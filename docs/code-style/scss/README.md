# CSS Architecture and Coding Style Conventions

### Table of contents

- [Introduction](#ƒ±ntroduction)
- [Naming Convention](#naming-convention)
  - [BEM](#bem)
- [File Architecture](#file-architecture)
  - [ITCSS](#itcss)
- [Coding Style](#coding-style)
  - [Formatting](#formatting)
  - [Declaration order](#declaration-order)
  - [Single declarations](#single-declarations)
  - [Shorthand notation](#shorthand-notation)
  - [Classnames](#Classnames)
  - [Selectors](#Selectors)
  - [Editor preferences](#editor-preferences)
- [Comments](#comments)
  - [Inline comments](#inline-comments)
  - [Block comments](#block-comments)
  - [File comments](#file-comments)
  - [Function and mixin comments](#function-and-mixin-comments)

## Introduction

This document outlines the concepts required for writing CSS and SCSS at Frame design system.

## Naming Convention

Naming Conventions are hugely useful in making your code more strict, more transparent, and more informative. We use the BEM methodology for naming conventions.

### BEM

BEM(Block-Element-Modifier) is a naming convention standard for CSS Class names that divides the user interface into small reusable components. We use BEM to name our CSS classes.

#### Block

`.block` is the outermost parent element of the component. An example of a Block might be a site's navigation, header section, or footer. Any container that holds other code could be a Block.

#### Element

`.block__element` is an Element inside a Block. We use two underscores between the Block and Element to denote that the Element is a descendent of the Block.

#### Modifier

Modifiers are only define one or two properties that change the previously defined properties on the Block or Element. The modifiers only change one or two properties, they have to live alongside the unmodified version of the class name. That way, you still get all the properties you already defined in the original Block or Element level class. You can use a Modifier on a Block or an Element.

`.block‚Äîmodifier` modifies the entire Block.

`.block__element‚Äîmodifier` modifies a single Element inside a Block.

#### BEM in Sass

In combination with Sass local variables and nesting, BEM is an efficient and communicative way to write CSS class names. This is a rough idea of what BEM looks like in a SCSS file:

```scss
.block {
  // styles for .block

  &__element {
    // styles for .block__element

    &--modifier {
      // styles for .block__element--modifier
    }
  }

  &--modifier {
    // styles for .block--modifier
  }
}
```

## File Architecture

Frame design system follow ITCSS principles created by Harry Roberts for CSS file architecture.

### ITCSS

ITCSS stands for Inverted Triangle CSS. It separates CSS into sections to help developers manage CSS specificity and the cascade. There are seven layers of the inverted triangle, though not every project will need all seven. The idea is that you start with a wide reach and low specificity at the top, and as you go down, the reach narrows and the properties get more specific. This helps you avoid specificity issues.

#### Settings

When using a preprocessor, settings are used to define variables. This puts variables at the top of the cascade so they are accessible to all partials further down. No CSS selectors should be generated by the preprocessor from partials in this section.

#### Tools

This section is specifically for preprocessor general mixes and functions. No CSS should be generated by the preprocessor from the partials in this section.

#### Generic

Here we define any generic styles that are not specific to the styles of the site. This section should include any Reset or Normalize libraries and any preferential base styles for elements. There shouldn‚Äôt be any classes or ids used in this section.

##### Elements

This is where we define styling for bare HTML elements (h1, a, etc.). These elements come with default styling from the browser, so we can redefine them here.

#### Objects

Objects are class-based selectors that define undecorated design patterns like layout or spacing pattens.

#### Components

This section is where we define our specific UI components. This is where the majority of our work takes place, and our UI components are often composed of Objects and Components. A component could be a button, or a textarea, or even a hero section.

#### Utilities

Utilities are helper classes with the ability to override anything that goes before it in the triangle.

## Coding Style

### Formating

- Use soft tabs with two spaces for indentation.
- When grouping selectors, keep individual selectors to a single line.
- Include one space before the opening brace of declaration blocks for legibility.
- Place closing braces of declaration blocks on a new line.
- Include one space after `:` for each declaration.
- Each declaration should appear on its own line.
- End all declarations with a semi-colon.
- Comma-separated property values should include a space after each comma (e.g.,¬†`box-shadow`).
- Don't prefix property values or color parameters with a leading zero (e.g.,¬†`.5`¬†instead of¬†`0.5`¬†and¬†`-.5px`¬†instead of¬†`-0.5px`).
- Lowercase all hex values, e.g.,¬†`#fff`.
- Use `#fff` instead of `white`.
- Use color variables or color function from frame color palette instead of hex or rgb.
- Use single `'` quotes instead of double quotes`‚Äù`. In rare situations where both needed inner quotes should always be single.
- Attributes selector should always be enclosed within quotes (Bad example:¬†`[type=text]`, Good example:¬†`[type='text']`
- Set a limit of 80 characters width at CSS files.
- Avoid specifying units for zero values, e.g.,¬†`margin: 0;`¬†instead of¬†`margin: 0px;`.

```scss
/* Bad example */
.element,
.element-secondary,
.element[type='text'] {
  padding: 15px;
  margin: 0px 0px 15px;
  background-color: rgba(0, 0, 0, 0.5);
  box-shadow: 0px 1px 2px #cccccc, inset 0 1px 0 white;
}

/* Good example */
.element,
.element-secondary,
.element[type='text'] {
  $color-black: rgba(0, 0, 0, 0.5);
  padding: 15px;
  margin-bottom: 15px;
  background-color: $color-black;
  box-shadow: 0 1px 2px #ccc, inset 0 1px 0 #fff;
}
```

### Declaration order

Related property declarations should be grouped together following the order:

1. Positioning
2. Box model
3. Typographic
4. Visual
5. Misc

```scss
.element {
  /* Positioning */
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;

  /* Box-model */
  display: block;
  float: right;
  width: 100px;
  height: 100px;

  /* Typography */
  font: normal 13px 'Helvetica Neue', sans-serif;
  line-height: 1.5;
  color: #333;
  text-align: center;

  /* Visual */
  background-color: #f5f5f5;
  border: 1px solid #e5e5e5;
  border-radius: 3px;

  /* Misc */
  opacity: 1;
}
```

You can use Stylint's üëâ https://github.com/stormwarning/stylelint-config-recess-order plugin for these declarations.

### Single declarations

In instances where a rule set includes¬†only one declaration, consider removing line breaks for readability and faster editing. Any rule set with multiple declarations should be split to separate lines.

```scss
/* Single declarations on one line */
.element1 {
  width: 60px;
}
.element2 {
  width: 140px;
}
.element3 {
  width: 220px;
}

/* Multiple declarations, one per line */
.element {
  display: inline-block;
  width: 16px;
  height: 15px;
  background-image: url('../img/sprite.png');
}
```

### Shorthand notation

Limit shorthand declaration usage to instances where you must explicitly set all available values. Usually we don't need to set all the values a shorthand property represents. Excessive use of shorthand properties leads to sloppier code with unnecessary overrides and unintended side effects.

```scss
/* Bad example */
.element {
  margin: 0 0 10px;
  background: red;
  background: url('image.jpg');
  border-radius: 3px 3px 0 0;
}

/* Good example */
.element {
  margin-bottom: 10px;
  background-color: red;
  background-image: url('image.jpg');
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
}
```

### Classnames

- Keep classes lowercase and use dashes.
- Do not use ID selectors.
- Avoid excessive and arbitrary shorthand notation.¬†`.btn`¬†is useful for¬†*button*, but¬†`.s`¬†doesn't mean anything.
- Keep classes as short and succinct as possible.
- Use meaningful names; use structural or purposeful names over presentational.

It's also useful to apply many of these same rules when creating Sass variable names.

```scss
/* Bad example */
.t { ... }
.red { ... }
.header { ... }
#content { ... }

/* Good example */
.tweet { ... }
.important { ... }
.tweet-header { ... }
.content { ... }
```

### Selectors

- Use classes instead of generic element tag.
- Keep selectors short and strive to limit the number of elements in each selector to three.
- Scope classes to the closest parent only when necessary.

```scss
/* Bad example */
span { ... }
.element-container #element .element-item .element-body .element-text { ... }

/* Good example */
.element-item .element-body { ... }
.element .body { ... }
```

### Editor preferences

Set your editor to the following settings to avoid common code inconsistencies and dirty diffs:

- Use soft-tabs set to two spaces.
- Trim trailing white space on save.
- Set encoding to UTF-8.
- Add new line at end of files.
  Use `.editorconfig` file to use these settings. Learn more¬†about [ EditorConfig](https://editorconfig.org/).

## Comments

### Inline comments

Inline comments should be displayed on the line above the related line of code.

```scss
/* Bad example */
.element {
  margin-bottom: 10px;
  -webkit-font-smoothing: antialiased; // Needed for clarity
}

/* Good example */
.element {
  margin-bottom: 10px;
  // Needed for clarity
  -webkit-font-smoothing: antialiased;
}
```

### Block comments

Block comments should be used to create meaningful divisions in your file. Each block of comment should be preceded and after by with a hyphen `--` line.

```scss
/* Bad example */

/*
 This is a bad block comment
*/
.element--secondary {
  margin-bottom: 10px;
}

/* Good example */

//--------------------------------------------------------
// This is a good block comment
//--------------------------------------------------------
.element--secondary {
  margin-bottom: 10px;
}
```

### File comments

File comments should be used to label an overall file. Each file comment should be preceded `///`.

```scss
/* Bad example */

/*
  This is a bad file comment
*/
.element {
  margin-bottom: 10px;
}

/* Good example */

/// This is a good file comment
/// @group component/element

.element {
  margin-bottom: 10px;
}
```

### Function and mixin comments

Function and mixins should have comments that list the parameters and return values.

```scss
/* Bad example */

////// Returns the value in pixels for a given rem value.

@function px($value) {
  @if unit($value) != 'rem' {
    @error 'Value must be in rem.';
  }
  @return ($value / 1rem) * $base-font-size;
}

/* Good example */

/// Returns the value in pixels for a given rem value.
/// @param {Number} $value - The rem value to be converted.
/// @return {Number} The converted value in pixels.

@function px($value) {
  @if unit($value) != 'rem' {
    @error 'Value must be in rem.';
  }
  @return ($value / 1rem) * $base-font-size;
}
```
