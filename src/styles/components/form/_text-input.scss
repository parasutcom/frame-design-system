@import '../../settings/prefix';
@import '../../tools/spacing';
@import '../../tools/typography';
@import '../../tools/colors';

@mixin text-input {
  .#{$prefix}-text-input {
    @include type-style('label-01');

    width: 100%;
    padding: space('12') space('16');
    background-color: color(gray, 0);
    border-radius: space('4');
    box-shadow: inset 0 0 0 1px color(gray, 30);
    color: color(gray, 90);

    &:focus,
    &:active {
      box-shadow: inset 0 0 0 1px color(blue, 60);
    }

    &::placeholder {
      color: color(gray, 60);
    }

    &:disabled {
      box-shadow: inset 0 0 0 1px color(gray, 20);
      color: color(gray, 30);
      cursor: not-allowed;

      &::placeholder {
        color: color(gray, 30);
      }
    }
  }

  .#{$prefix}-text-input--lg {
    padding-top: space('16');
    padding-bottom: space('16');
  }

  .#{$prefix}-password-input {
    padding-right: space('48');
  }

  .#{$prefix}-text-input__field-outer-wrapper {
    display: flex;
    width: 100%;
    flex: 1 1 auto;
    flex-direction: column;
    align-items: flex-start;
  }

  .#{$prefix}-text-input__field-wrapper {
    position: relative;
    display: flex;
    width: 100%;
  }

  .#{$prefix}-text-input--error,
  .#{$prefix}-text-input--warning {
    padding-right: space('48');
  }

  .#{$prefix}-text-input__error-icon,
  .#{$prefix}-text-input__warning-icon {
    position: absolute;
    top: 50%;
    right: space('16');
    transform: translateY(-50%);
  }

  .#{$prefix}-text-input--error {
    box-shadow: inset 0 0 0 1px color(red, 60);
  }

  .#{$prefix}-text-input--warning {
    box-shadow: inset 0 0 0 1px color(bronze, 60);
  }

  .#{$prefix}-text-input__error-icon {
    color: color(red, 60);
  }

  .#{$prefix}-text-input__warning-icon {
    color: color(bronze, 60);
  }

  .#{$prefix}-btn.#{$prefix}-text-input--password__visibility__toggle {
    position: absolute;
    right: 0;
    display: flex;
    width: space('48');
    height: 100%;
    align-items: center;
    justify-content: center;
    padding: 0;
    cursor: pointer;

    i {
      color: color(gray, 90);
    }
  }

  .#{$prefix}-text-input:disabled
    + .#{$prefix}-btn.#{$prefix}-text-input--password__visibility__toggle
    i {
    color: color(gray, 30);
    cursor: not-allowed;
  }

  .#{$prefix}-text-input:disabled + .#{$prefix}-btn:disabled {
    background-color: transparent;
  }

  .#{$prefix}-text-input--error.#{$prefix}-password-input,
  .#{$prefix}-text-input--warning.#{$prefix}-password-input {
    padding-right: 80px;
  }

  .#{$prefix}-password-input-wrapper .#{$prefix}-text-input__error-icon,
  .#{$prefix}-password-input-wrapper .#{$prefix}-text-input__warning-icon {
    right: space('48');
  }
}

@include text-input;
